# Generated by Django 6.0.1 on 2026-01-21 12:27

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Depo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('isim', models.CharField(max_length=100, verbose_name='Depo Adƒ±')),
                ('adres', models.CharField(blank=True, max_length=200, verbose_name='Lokasyon / Adres')),
                ('depo_tipi', models.CharField(choices=[('WAREHOUSE', 'Fiziksel Depo'), ('SITE', '≈ûantiye Deposu'), ('VENDOR', 'Tedarik√ßi Deposu (Vendor Location)'), ('CONSUMPTION', 'Kullanƒ±m / Sarf Yeri')], default='WAREHOUSE', max_length=20, verbose_name='Depo Tipi')),
                ('is_sanal', models.BooleanField(default=False, verbose_name='Sanal / Tedarik√ßi Deposu mu?')),
                ('is_kullanim_yeri', models.BooleanField(default=False, verbose_name='Kullanƒ±m / Sarf Yeri mi?')),
            ],
            options={
                'verbose_name_plural': 'Depo Tanƒ±mlarƒ±',
            },
        ),
        migrations.CreateModel(
            name='Fatura',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fatura_no', models.CharField(max_length=50, verbose_name='Fatura No')),
                ('tarih', models.DateField(default=django.utils.timezone.now, verbose_name='Fatura Tarihi')),
                ('dosya', models.FileField(blank=True, null=True, upload_to='faturalar/', verbose_name='Fatura G√∂rseli/PDF')),
                ('aciklama', models.TextField(blank=True, verbose_name='A√ßƒ±klama')),
                ('ara_toplam', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Ara Toplam (KDV Hari√ß)')),
                ('kdv_toplam', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='KDV Toplam')),
                ('genel_toplam', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Genel Toplam (KDV Dahil)')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Alƒ±≈ü Faturasƒ±',
                'verbose_name_plural': 'Alƒ±≈ü Faturalarƒ±',
                'ordering': ['-tarih', '-id'],
            },
        ),
        migrations.CreateModel(
            name='GiderKategorisi',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('isim', models.CharField(max_length=100, verbose_name='Gider Kategorisi')),
            ],
            options={
                'verbose_name': 'Gider Tanƒ±mƒ±',
                'verbose_name_plural': 'Gider Tanƒ±mlarƒ±',
            },
        ),
        migrations.CreateModel(
            name='Kategori',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('isim', models.CharField(max_length=100, verbose_name='Kategori Adƒ±')),
            ],
            options={
                'verbose_name_plural': '1. ƒ∞malat T√ºrleri',
            },
        ),
        migrations.CreateModel(
            name='Malzeme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('isim', models.CharField(max_length=200, verbose_name='Malzeme Adƒ± (√ñrn: √ò14 Demir)')),
                ('kategori', models.CharField(choices=[('genel', 'Genel Malzeme'), ('hirdavat', 'Hƒ±rdavat / Nalburiye'), ('elektrik', 'Elektrik & Aydƒ±nlatma'), ('mekanik', 'Mekanik & Tesisat'), ('insaat', 'Kaba ƒ∞n≈üaat (√áimento/Demir)'), ('boya', 'Boya & Kimyasal'), ('demirbas', 'Demirba≈ü / Ekipman')], default='genel', max_length=20, verbose_name='Malzeme Grubu')),
                ('marka', models.CharField(blank=True, max_length=100, verbose_name='Marka / Model')),
                ('birim', models.CharField(choices=[('adet', 'Adet'), ('m2', 'Metrekare (m¬≤)'), ('m3', 'Metrek√ºp (m¬≥)'), ('kg', 'Kilogram (kg)'), ('ton', 'Ton'), ('mt', 'Metre (mt)'), ('adam_saat', 'Adam/Saat'), ('goturu', 'G√∂t√ºr√º (Toplu)')], default='adet', max_length=20)),
                ('kdv_orani', models.IntegerField(choices=[(-1, 'KDV Muaf / √ñzel Matrah'), (0, '%0'), (5, '%5'), (10, '%10'), (16, '%16'), (20, '%20')], default=20, verbose_name='Varsayƒ±lan KDV (%)')),
                ('kritik_stok', models.DecimalField(decimal_places=2, default=10, max_digits=10, verbose_name='Kritik Stok Uyarƒ± Limiti')),
                ('aciklama', models.TextField(blank=True, verbose_name='Teknik √ñzellikler / Notlar')),
            ],
            options={
                'verbose_name': '7. Envanter (Stok Durumu)',
                'verbose_name_plural': '7. Envanter (Stok Durumu)',
            },
        ),
        migrations.CreateModel(
            name='SatinAlma',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('siparis_tarihi', models.DateField(default=django.utils.timezone.now, verbose_name='Sipari≈ü Tarihi')),
                ('teslimat_durumu', models.CharField(choices=[('bekliyor', 'üî¥ Bekliyor (Hi√ß Gelmedi)'), ('kismi', 'üü† Kƒ±smi Teslimat (Eksik Var)'), ('tamamlandi', 'üü¢ Tamamlandƒ± (Hepsi Geldi)')], default='bekliyor', max_length=20)),
                ('toplam_miktar', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Sipari≈ü Edilen Toplam')),
                ('teslim_edilen', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Depoya Giren (Fiziksel)')),
                ('faturalanan_miktar', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Faturasƒ± Gelen (Finansal)')),
                ('fiili_odenen_tutar', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='≈ûu Ana Kadar √ñdenen')),
                ('aciklama', models.TextField(blank=True, verbose_name='Notlar')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': '4. Satƒ±nalma & Sipari≈üler',
                'verbose_name_plural': '4. Satƒ±nalma & Sipari≈üler',
            },
        ),
        migrations.CreateModel(
            name='Tedarikci',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('firma_unvani', models.CharField(max_length=200, verbose_name='Firma √únvanƒ±')),
                ('yetkili_kisi', models.CharField(blank=True, max_length=100, verbose_name='Yetkili Ki≈üi')),
                ('telefon', models.CharField(blank=True, max_length=20)),
                ('adres', models.TextField(blank=True)),
            ],
            options={
                'verbose_name_plural': 'Tedarik√ßiler',
            },
        ),
        migrations.CreateModel(
            name='Harcama',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('aciklama', models.CharField(max_length=200, verbose_name='Harcama A√ßƒ±klamasƒ±')),
                ('tutar', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Tutar')),
                ('para_birimi', models.CharField(choices=[('TRY', 'T√ºrk Lirasƒ± (‚Ç∫)'), ('USD', 'Amerikan Dolarƒ± ($)'), ('EUR', 'Euro (‚Ç¨)'), ('GBP', 'ƒ∞ngiliz Sterlini (¬£)')], default='TRY', max_length=3, verbose_name='Para Birimi')),
                ('kur_degeri', models.DecimalField(decimal_places=4, default=1.0, max_digits=10, verbose_name='ƒ∞≈ülem Kuru')),
                ('tarih', models.DateField(default=django.utils.timezone.now, verbose_name='Harcama Tarihi')),
                ('dekont', models.FileField(blank=True, null=True, upload_to='harcamalar/', verbose_name='Dekont / Fi≈ü')),
                ('kategori', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='harcamalar', to='core.giderkategorisi', verbose_name='Gider T√ºr√º')),
            ],
            options={
                'verbose_name': '5. Harcama (Gider)',
                'verbose_name_plural': '5. Harcamalar (Gider)',
                'ordering': ['-tarih'],
            },
        ),
        migrations.CreateModel(
            name='IsKalemi',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('isim', models.CharField(max_length=200, verbose_name='ƒ∞≈ü Kalemi Adƒ±')),
                ('hedef_miktar', models.DecimalField(decimal_places=2, default=1, max_digits=10, verbose_name='Yakla≈üƒ±k Metraj')),
                ('birim', models.CharField(choices=[('adet', 'Adet'), ('m2', 'Metrekare (m¬≤)'), ('m3', 'Metrek√ºp (m¬≥)'), ('kg', 'Kilogram (kg)'), ('ton', 'Ton'), ('mt', 'Metre (mt)'), ('adam_saat', 'Adam/Saat'), ('goturu', 'G√∂t√ºr√º (Toplu)')], default='adet', max_length=20)),
                ('kdv_orani', models.IntegerField(choices=[(-1, 'KDV Muaf / √ñzel Matrah'), (0, '%0'), (5, '%5'), (10, '%10'), (16, '%16'), (20, '%20')], default=20, verbose_name='Varsayƒ±lan KDV (%)')),
                ('aciklama', models.TextField(blank=True, verbose_name='ƒ∞≈ü Tanƒ±mƒ± / Teknik ≈ûartname')),
                ('kategori', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='kalemler', to='core.kategori', verbose_name='Kategori')),
            ],
            options={
                'verbose_name_plural': '2. ƒ∞≈ü Kalemleri',
            },
        ),
        migrations.CreateModel(
            name='FaturaKalem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('miktar', models.DecimalField(decimal_places=3, default=0, max_digits=15, verbose_name='Miktar')),
                ('fiyat', models.DecimalField(decimal_places=4, default=0, max_digits=15, verbose_name='Birim Fiyat (KDV Hari√ß)')),
                ('kdv_oran', models.IntegerField(choices=[(-1, 'KDV Muaf / √ñzel Matrah'), (0, '%0'), (5, '%5'), (10, '%10'), (16, '%16'), (20, '%20')], default=20, verbose_name='KDV Oranƒ±')),
                ('aciklama', models.CharField(blank=True, default='', max_length=255, verbose_name='A√ßƒ±klama')),
                ('birim_fiyat', models.DecimalField(decimal_places=4, default=0, editable=False, max_digits=15, verbose_name='(Eski) Birim Fiyat')),
                ('kdv_orani', models.IntegerField(choices=[(-1, 'KDV Muaf / √ñzel Matrah'), (0, '%0'), (5, '%5'), (10, '%10'), (16, '%16'), (20, '%20')], default=20, editable=False, verbose_name='(Eski) KDV Oranƒ±')),
                ('satir_ara_toplam', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Satƒ±r Ara Toplam')),
                ('satir_kdv', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Satƒ±r KDV')),
                ('satir_genel_toplam', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Satƒ±r Genel Toplam')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('fatura', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='kalemler', to='core.fatura', verbose_name='Fatura')),
                ('malzeme', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='fatura_kalemleri', to='core.malzeme', verbose_name='Malzeme')),
            ],
            options={
                'verbose_name': 'Alƒ±≈ü Faturasƒ± Kalemi',
                'verbose_name_plural': 'Alƒ±≈ü Faturasƒ± Kalemleri',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='MalzemeTalep',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('miktar', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='ƒ∞stenen Miktar')),
                ('oncelik', models.CharField(choices=[('normal', 'üü¢ Normal'), ('acil', 'üî¥ Acil'), ('cok_acil', 'üî• √áOK ACƒ∞L (ƒ∞≈ü Durdu)')], default='normal', max_length=10, verbose_name='Aciliyet Durumu')),
                ('proje_yeri', models.CharField(blank=True, max_length=200, null=True, verbose_name='Kullanƒ±lacak Yer')),
                ('aciklama', models.TextField(blank=True, null=True, verbose_name='Notlar')),
                ('durum', models.CharField(choices=[('bekliyor', '‚è≥ Talep A√ßƒ±ldƒ± (Onay Bekliyor)'), ('islemde', 'üîç Satƒ±nalma / Teklif S√ºrecinde'), ('onaylandi', '‚úÖ Sipari≈ü Verildi'), ('tamamlandi', 'üì¶ Temin Edildi / Geldi'), ('red', '‚ùå Reddedildi / ƒ∞ptal')], default='bekliyor', max_length=20)),
                ('tarih', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Talep Tarihi')),
                ('onay_tarihi', models.DateTimeField(blank=True, null=True, verbose_name='Onaylanma Zamanƒ±')),
                ('temin_tarihi', models.DateTimeField(blank=True, null=True, verbose_name='Temin/Teslim Zamanƒ±')),
                ('is_kalemi', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='talepler', to='core.iskalemi', verbose_name='ƒ∞≈ü Kalemi (Hizmet/Ta≈üeron)')),
                ('malzeme', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='talepler', to='core.malzeme', verbose_name='Malzeme (Satƒ±nalma)')),
                ('talep_eden', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Talep Eden')),
            ],
            options={
                'verbose_name_plural': 'Malzeme ve Hizmet Talepleri',
                'ordering': ['-tarih'],
            },
        ),
        migrations.CreateModel(
            name='Hakedis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('hakedis_no', models.PositiveIntegerField(default=1, verbose_name='Hakedi≈ü No')),
                ('tarih', models.DateField(default=django.utils.timezone.now, verbose_name='Hakedi≈ü Tarihi')),
                ('donem_baslangic', models.DateField(blank=True, null=True, verbose_name='D√∂nem Ba≈üƒ±')),
                ('donem_bitis', models.DateField(blank=True, null=True, verbose_name='D√∂nem Sonu')),
                ('aciklama', models.TextField(blank=True, verbose_name='Yapƒ±lan ƒ∞≈üin A√ßƒ±klamasƒ±')),
                ('tamamlanma_orani', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Bu D√∂nem ƒ∞lerleme (%)')),
                ('brut_tutar', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Hakedi≈ü Tutarƒ± (KDV Hari√ß)')),
                ('kdv_orani', models.PositiveIntegerField(blank=True, null=True, verbose_name='KDV (%)')),
                ('kdv_tutari', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='KDV Tutarƒ±')),
                ('stopaj_orani', models.PositiveIntegerField(default=0, verbose_name='Stopaj (%)')),
                ('stopaj_tutari', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Kesilen Stopaj')),
                ('teminat_orani', models.PositiveIntegerField(default=0, verbose_name='Teminat (%)')),
                ('teminat_tutari', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Kesilen Teminat')),
                ('avans_kesintisi', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Avans Kesintisi')),
                ('diger_kesintiler', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Malzeme/Ceza vb.')),
                ('odenecek_net_tutar', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='√ñdenecek Net Tutar')),
                ('fiili_odenen_tutar', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='≈ûu Ana Kadar √ñdenen')),
                ('onay_durumu', models.BooleanField(default=False, verbose_name='Onaylandƒ±')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('satinalma', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='hakedisler', to='core.satinalma', verbose_name='ƒ∞lgili S√∂zle≈üme')),
            ],
            options={
                'verbose_name_plural': '6. Ta≈üeron Hakedi≈üleri',
                'ordering': ['-tarih'],
            },
        ),
        migrations.AddField(
            model_name='fatura',
            name='satinalma',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='faturalar', to='core.satinalma', verbose_name='Baƒülƒ± Sipari≈ü'),
        ),
        migrations.CreateModel(
            name='DepoTransfer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('miktar', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Transfer Miktarƒ±')),
                ('tarih', models.DateField(default=django.utils.timezone.now)),
                ('aciklama', models.CharField(blank=True, max_length=200, verbose_name='Transfer Notu (Plaka vb.)')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('hedef_depo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='giris_transferleri', to='core.depo', verbose_name='Hedef Depo (Nereye?)')),
                ('kaynak_depo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cikis_transferleri', to='core.depo', verbose_name='Kaynak Depo (Nereden?)')),
                ('malzeme', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.malzeme', verbose_name='Ta≈üƒ±nacak Malzeme')),
                ('bagli_siparis', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transferler', to='core.satinalma', verbose_name='Baƒülƒ± Sipari≈ü')),
            ],
            options={
                'verbose_name': '8. Sevkiyat (Mal Kabul)',
                'verbose_name_plural': '8. Sevkiyat (Mal Kabul)',
            },
        ),
        migrations.CreateModel(
            name='Odeme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tarih', models.DateField(default=django.utils.timezone.now, verbose_name='ƒ∞≈ülem Tarihi')),
                ('odeme_turu', models.CharField(choices=[('nakit', 'Nakit'), ('havale', 'Havale / EFT'), ('cek', '√áek')], default='nakit', max_length=10, verbose_name='√ñdeme Y√∂ntemi')),
                ('tutar', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='√ñdenen Tutar')),
                ('para_birimi', models.CharField(choices=[('TRY', 'T√ºrk Lirasƒ± (‚Ç∫)'), ('USD', 'Amerikan Dolarƒ± ($)'), ('EUR', 'Euro (‚Ç¨)'), ('GBP', 'ƒ∞ngiliz Sterlini (¬£)')], default='TRY', max_length=3, verbose_name='Para Birimi')),
                ('banka_adi', models.CharField(blank=True, max_length=100, verbose_name='Banka Adƒ±')),
                ('cek_no', models.CharField(blank=True, max_length=50, verbose_name='√áek No / Dekont No')),
                ('vade_tarihi', models.DateField(blank=True, null=True, verbose_name='√áek Vadesi')),
                ('aciklama', models.CharField(blank=True, max_length=200, verbose_name='A√ßƒ±klama')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('bagli_hakedis', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.hakedis', verbose_name='ƒ∞lgili Hakedi≈ü')),
                ('tedarikci', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='odemeler', to='core.tedarikci', verbose_name='√ñdenen Firma')),
            ],
            options={
                'verbose_name': '7. √ñdeme & √áek √áƒ±kƒ±≈üƒ±',
                'verbose_name_plural': '7. √ñdeme & √áek √áƒ±kƒ±≈üƒ±',
                'ordering': ['-tarih'],
            },
        ),
        migrations.AddField(
            model_name='fatura',
            name='tedarikci',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='faturalar', to='core.tedarikci', verbose_name='Tedarik√ßi'),
        ),
        migrations.CreateModel(
            name='DepoHareket',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tarih', models.DateField(default=django.utils.timezone.now)),
                ('islem_turu', models.CharField(choices=[('giris', 'üì• Depo Giri≈üi (Satƒ±nalma/Transfer)'), ('cikis', 'üì§ Depo √áƒ±kƒ±≈üƒ± (Kullanƒ±m/Transfer)'), ('iade', '‚Ü©Ô∏è ƒ∞ade / Red (Kusurlu Mal)')], max_length=10)),
                ('miktar', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Miktar')),
                ('irsaliye_no', models.CharField(blank=True, max_length=50, verbose_name='ƒ∞rsaliye No')),
                ('aciklama', models.CharField(blank=True, max_length=300, verbose_name='A√ßƒ±klama / Kullanƒ±lan Yer')),
                ('iade_sebebi', models.CharField(blank=True, max_length=200, verbose_name='Red Sebebi')),
                ('iade_aksiyonu', models.CharField(choices=[('yok', '-'), ('degisim', 'üîÑ Yenisi Gelecek (Bor√ß D√º≈üme)'), ('iptal', '‚õî ƒ∞ptal Et / Faturadan D√º≈ü (Bor√ß D√º≈ü)')], default='yok', max_length=20, verbose_name='ƒ∞ade Sonucu')),
                ('kanit_gorseli', models.ImageField(blank=True, null=True, upload_to='depo_kanit/', verbose_name='Hasar/Kanƒ±t Fotoƒürafƒ±')),
                ('ref_type', models.CharField(blank=True, choices=[('TRANSFER', 'Depo Transfer'), ('FATURA', 'Fatura (eski/ba≈ülƒ±k)'), ('FATURA_KALEM', 'Fatura Kalemi'), ('MANUEL', 'Manuel'), ('IADE', 'ƒ∞ade')], max_length=20, null=True, verbose_name='Referans Tipi')),
                ('ref_id', models.PositiveIntegerField(blank=True, null=True, verbose_name='Referans ID')),
                ('ref_direction', models.CharField(blank=True, max_length=10, null=True, verbose_name='Referans Y√∂n√º (IN/OUT)')),
                ('depo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.depo', verbose_name='ƒ∞lgili Depo')),
                ('malzeme', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='hareketler', to='core.malzeme')),
                ('siparis', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='depo_hareketleri', to='core.satinalma', verbose_name='Baƒülƒ± Sipari≈ü')),
                ('tedarikci', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.tedarikci', verbose_name='Tedarik√ßi (Giri≈ü ise)')),
            ],
            options={
                'verbose_name': 'Hareket Ge√ßmi≈üi (Log)',
                'verbose_name_plural': 'Hareket Ge√ßmi≈üi (Log)',
            },
        ),
        migrations.CreateModel(
            name='Teklif',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('miktar', models.DecimalField(decimal_places=2, default=1, max_digits=10, verbose_name='Teklif Miktarƒ±')),
                ('birim_fiyat', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Birim Fiyat (KDV Hari√ß)')),
                ('para_birimi', models.CharField(choices=[('TRY', 'T√ºrk Lirasƒ± (‚Ç∫)'), ('USD', 'Amerikan Dolarƒ± ($)'), ('EUR', 'Euro (‚Ç¨)'), ('GBP', 'ƒ∞ngiliz Sterlini (¬£)')], default='TRY', max_length=3)),
                ('kur_degeri', models.DecimalField(decimal_places=4, default=1.0, max_digits=10, verbose_name='ƒ∞≈ülem Kuru')),
                ('kdv_dahil_mi', models.BooleanField(default=False, verbose_name='Bu fiyata KDV Dahil mi?')),
                ('kdv_orani', models.IntegerField(choices=[(-1, 'KDV Muaf / √ñzel Matrah'), (0, '%0'), (5, '%5'), (10, '%10'), (16, '%16'), (20, '%20')], default=20, verbose_name='KDV Oranƒ±')),
                ('teklif_dosyasi', models.FileField(blank=True, null=True, upload_to='teklifler/', verbose_name='Teklif PDF/Resim')),
                ('durum', models.CharField(choices=[('beklemede', '‚è≥ ƒ∞ncelemede'), ('onaylandi', '‚úÖ Onaylandƒ± (Sipari≈ü)'), ('reddedildi', '‚ùå Reddedildi')], default='beklemede', max_length=20)),
                ('olusturulma_tarihi', models.DateTimeField(auto_now_add=True)),
                ('is_kalemi', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='teklifler', to='core.iskalemi', verbose_name='ƒ∞≈ü Kalemi (Ta≈üeronluk)')),
                ('malzeme', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='teklifler', to='core.malzeme', verbose_name='Malzeme (Satƒ±nalma)')),
                ('talep', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='teklifler', to='core.malzemetalep', verbose_name='ƒ∞lgili Talep')),
                ('tedarikci', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='teklifler', to='core.tedarikci')),
            ],
            options={
                'verbose_name': '3. Teklifler (Fiyat Toplama)',
                'verbose_name_plural': '3. Teklifler (Fiyat Toplama)',
            },
        ),
        migrations.AddField(
            model_name='satinalma',
            name='teklif',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='satinalma_donusumu', to='core.teklif', verbose_name='ƒ∞lgili Teklif'),
        ),
        migrations.AddConstraint(
            model_name='fatura',
            constraint=models.UniqueConstraint(fields=('tedarikci', 'fatura_no', 'tarih'), name='uniq_fatura_tedarikci_no_tarih'),
        ),
        migrations.AddConstraint(
            model_name='depohareket',
            constraint=models.UniqueConstraint(fields=('ref_type', 'ref_id', 'ref_direction', 'malzeme', 'depo'), name='uniq_depo_hareket_ref'),
        ),
    ]
